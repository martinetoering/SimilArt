<!-- base.html -->

<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="description" content="">
	<meta name="author" content="">
	<title>{% block title %}{% endblock %}</title>

	<!-- Bootstrap core CSS -->
	<link href="https://getbootstrap.com/docs/4.0/dist/css/bootstrap.min.css" rel="stylesheet">

	<!-- D3 package -->
	<script src="https://d3js.org/d3.v4.min.js"></script>
	<style>

	</style>

	<!-- Layout stylesheet -->
	<link rel="stylesheet" type="text/css" href="base.css">
	<style>
		p, .txt {  text-align: justify;
			text-justify: inter-word;
		}

		body { margin:0;position:fixed;top:0;right:0;bottom:0;left:0; }

		svg {
		  background-color: #fffbef;
		}
		.rect-outline {
		  fill: none;
		  stroke: #dbdbdb;
		  stroke-width: 2;
		}
		.middle {
		  fill: none;
		  stroke: #dbdbdb;
		  stroke-width: 2;
		}
		.rect-fill{
			fill:aqua;
			stroke:aquamarine;
			stroke-width: 2;
		}
	  </style>
</head>
<body>

</body>

<!-- Imports for the backend connection + nearest neighbor querying -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/1.7.3/socket.io.min.js"></script>
<script src="../static/js/nearest_neighbors.js"></script>
<!-- Import dragable images code -->
<script src="../static/js/drag_imgs.js"></script>
<script type="text/javascript">
	var svgwidth = 960
	var svgheight = 500

	var svg = d3.select("body").append("svg")
	  .attr("width", svgwidth)
	  .attr("height", svgheight)

	var image = {
	  size: 100
	}

	console.log(d3.select('svg').node().getBBox())

	var defs = svg.append("defs");

	var middle = svg.append("rect")
		.attr("class", "middle")
		.attr("x", svgwidth*0.25)
		.attr("y", svgheight*0.25)
		.attr("width", svgwidth*0.5)
		.attr("height", svgwidth*0.25);
	
	var backbutton = svg.append("rect")
		.attr("class", "rect-fill")
		.attr("x", svgwidth*0.25 + svgwidth*0.025 )
		.attr("y", svgheight*0.25)
		.attr("width", svgwidth*0.025)
		.attr("height", svgwidth*0.025);
	var redobutton = svg.append("rect")
		.attr("class", "rect-fill")
		.attr("x", svgwidth*0.25)
		.attr("y", svgheight*0.25)
		.attr("width", svgwidth*0.025)
		.attr("height", svgwidth*0.025);
	
	backbutton.on('click', function() {
  		console.log('go back to previous image');
	});
	redobutton.on('click', function() {
  		console.log('redo images');
	});
	var test = svg.append("g")
		.datum({position: [0, 0], height: 35, width: 55})
		.attr("transform", d => "translate(" + d.position + ")");

	var randomizebutton = test.append("rect")
		.attr("class", "rect-fill")
		.attr("x", 0)
		.attr("y", 0)
		.attr("width", 50)
		.attr("height", 30)
	
	randomizebutton.on('click', function() {
  		console.log('randomize all outside images');
	});

	var imgs_path = "static/subset/"
	var doctorUrl1 = imgs_path + "16.jpg";
		doctorUrl2 = imgs_path + "252.jpg";
		doctorUrl3 = imgs_path + "329.jpg";
		doctorUrl4 = imgs_path + "360.jpg";

	appendDraggableImage(doctorUrl1, [0, 0]);
	appendDraggableImage(doctorUrl2, [310, 280]);
	appendDraggableImage(doctorUrl3, [650, 280]);
	appendDraggableImage(doctorUrl4, [-50, 80]);

	var data = {{ data |safe }};
	var available_ids = {{ available_ids |safe }};
</script>

</html>
